# n8n 블로그 자동화 + 이미지 생성 설정 가이드

## 🎯 새로운 기능
- **ChatGPT DALL-E 이미지 자동 생성**
- **블로그 썸네일 자동 설정**
- **향상된 슬랙 알림 (이미지 생성 상태 포함)**

## 🔧 필수 설정

### 1. OpenAI API 크레덴셜 확인
```
n8n 웹 인터페이스 → Settings → Credentials → OpenAI
- API Key가 DALL-E 3 권한을 가지고 있는지 확인
- 충분한 크레딧이 있는지 확인
```

### 2. 스케줄 문제 해결

#### 시간대 확인
```bash
# 현재 docker-compose.yml 확인
cat docker-compose.yml | grep TIMEZONE

# 로그 확인
docker logs n8n_container_name
```

#### cron 표현식 수정 (한국 시간 기준으로 변경)
```
기존: 0 8 * * *  (UTC 8시 = 한국 시간 17시)
변경: 0 23 * * * (UTC 23시 = 한국 시간 8시)
```

### 3. 수동 테스트
```bash
# 스케줄 상태 체크
chmod +x check-schedule.sh
./check-schedule.sh

# 워크플로우 수동 테스트
chmod +x test-workflow.sh
./test-workflow.sh
```

## 🖼️ 이미지 생성 프로세스

1. **AI 콘텐츠 생성** → 이미지 프롬프트 포함
2. **DALL-E 3 호출** → 1024x1024 고품질 이미지 생성
3. **이미지 다운로드** → 로컬 임시 저장
4. **블로그 서버 업로드** → `/blog-thumbnails/` 폴더
5. **블로그 포스트 연결** → `thumbnail_url` 필드 설정

## 📊 모니터링

### 슬랙 알림 개선사항
- ✅ 이미지 생성 성공/실패 상태
- 🖼️ 썸네일 생성 완료 표시
- 📈 워크플로우 성능 정보

### 체크포인트
1. **매일 8시 실행 확인**
2. **이미지 생성 성공률 모니터링**
3. **블로그 포스트 품질 검토**
4. **API 사용량 추적**

## 🚨 문제 해결

### 이미지 생성 실패 시
- OpenAI API 크레딧 확인
- 이미지 프롬프트 내용 검토
- DALL-E 3 서비스 상태 확인

### 스케줄 실행 실패 시
- n8n 컨테이너 재시작
- 시간대 설정 재확인
- 워크플로우 활성화 상태 점검

## 💡 추가 개선 아이디어
- 이미지 스타일 다양화 (business, tech, minimal 등)
- A/B 테스트용 다중 이미지 생성
- 이미지 품질 자동 평가 시스템
